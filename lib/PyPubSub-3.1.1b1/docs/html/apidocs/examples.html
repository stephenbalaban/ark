<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Examples &mdash; Python PubSub Website</title>
    <link rel="stylesheet" href="../_static/split_tocs.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="../_static/ie_split_tocs.css" type="text/css" /><![endif]-->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.0b1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Python PubSub Website" href="../index.html" />
    <link rel="up" title="API Documentation" href="index.html" />
    <link rel="next" title="Concepts" href="concepts.html" />
    <link rel="prev" title="API Documentation" href="index.html" /> 
  </head>
  <body>
  <div class="docsheader">
    <h3>Python PubSub Website</h3>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="concepts.html" title="Concepts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="API Documentation"
             accesskey="P">previous</a> |</li>
        <li>Trail:</li>
          <li> &raquo; <a href="index.html" accesskey="U">API Documentation</a></li>
          <li> &raquo; <a href="#">Examples</a></li> 
      </ul>
    </div>
  </div>
 
      <div class="splitsidebar">
        <div class="mainsidebarpanel">
            <h3><a href="../index.html">Site Contents</a></h3>
            <ul class="current">
<li class="toctree-l1"><a class="reference" href="../index.html">Home Page</a></li>
<li class="toctree-l1"><a class="reference" href="../about.html">About</a><ul>
<li class="toctree-l2"><a class="reference" href="../projectsusing.html">Pubsub Users</a></li>
<li class="toctree-l2"><a class="reference" href="../history.html">History</a></li>
<li class="toctree-l2"><a class="reference" href="../development.html">Development</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference" href="../download.html">Download</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="../changelog.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference" href="index.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference" href="">Examples</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="concepts.html">Concepts</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="basic_use.html">Basic Use</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="more_advanced_use.html">Advanced Use</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="docs4v1.html">Legacy (v1) API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference" href="../recipes/index.html">Pubsub Recipes</a><ul>
<li class="toctree-l2"><a class="reference" href="../recipes/upgrade_v1tov3.html">Upgrade from v1</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference" href="../recipes/arg1_to_kwargs.html">Convert Arg1 to Kwargs</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>

          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div> 

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hello-world">
<h2>Hello World<a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h2>
<p>A complete example of use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">One listener is subscribed to a topic called &#39;rootTopic&#39;.</span>
<span class="sd">One &#39;rootTopic&#39; message gets sent. </span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="k">from</span> <span class="nn">pubsub</span> <span class="k">import</span> <span class="n">pub</span>

<span class="c"># ------------ create a listener ------------------</span>

<span class="k">def</span> <span class="nf">listener1</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;Function listener1 received:</span><span class="se">\n</span><span class="s">  arg1=&quot;</span><span class="si">%s</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">  arg2=&quot;</span><span class="si">%s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span>

<span class="c"># ------------ register listener ------------------</span>

<span class="n">pub</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">listener1</span><span class="p">,</span> <span class="s">&#39;rootTopic&#39;</span><span class="p">)</span>

<span class="c">#------ create a function that sends a message ----</span>

<span class="k">def</span> <span class="nf">doSomethingAndSendResult</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&#39;lahdida... have result, publishing it via pubsub&#39;</span>
    <span class="n">pub</span><span class="o">.</span><span class="n">sendMessage</span><span class="p">(</span><span class="s">&#39;rootTopic&#39;</span><span class="p">,</span> <span class="n">arg1</span><span class="o">=</span><span class="mf">123</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s">&#39;def&#39;</span><span class="p">))</span>

<span class="c"># --------- define the main part of application --------</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">doSomethingAndSendResult</span><span class="p">()</span>
</pre></div>
</div>
<p>Running the above as a script (already saved for your convenience as
helloworld.py in the docs folder of the source distribution) will
produce the result:</p>
<div class="highlight-python"><pre>lahdida... have result, publishing it via pubsub
Function listener1 received:
  arg1="123"
  arg2="{'a': 'abc', 'b': 'def'}"</pre>
</div>
</div>
<div class="section" id="more-examples">
<h2>More Examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<p>There are several examples that can be found in the source distribution
in the <tt class="docutils literal"><span class="pre">examples</span></tt> folder. There are some &#8220;basic&#8221; examples that
focus on syntax, and more advanced examples that hint at some design
pattern. In most cases, there are both &#8220;console&#8221;-based and GUI (wxPython)
based examples.</p>
<p>On Windows, the whole set of examples in the <tt class="docutils literal"><span class="pre">examples</span></tt> folder can
be executed automatically as a form of regression testing. Run <tt class="docutils literal"><span class="pre">runall.bat</span></tt>
from a console window once cd&#8217;d to the examples folder. Read the text in
the console for instructions.</p>
<div class="section" id="basic-kwargs-messaging">
<h3>Basic, Kwargs messaging<a class="headerlink" href="#basic-kwargs-messaging" title="Permalink to this headline">¶</a></h3>
<p>These two examples demonstrate a simple use of pubsub with the <em>kwargs</em>
messaging protocol (default). There are two examples that can be run from
this folder:</p>
<dl class="docutils">
<dt><strong>console_main.py</strong>: basic console based, uses the console_senders.py and</dt>
<dd>console_listeners.py modules, giving example of the <em>kwargs</em>
messaging protocol.</dd>
<dt><strong>wx_main.py</strong>: wxPython GUI application with two windows (win1 and win2)</dt>
<dd>that exchange data without any reference to the other. This example
looks for pubsub on your system path so default install ok.</dd>
</dl>
</div>
<div class="section" id="basic-arg1-messaging">
<h3>Basic, Arg1 messaging<a class="headerlink" href="#basic-arg1-messaging" title="Permalink to this headline">¶</a></h3>
<p>These two examples demonstrate a simple use of pubsub with the <em>arg1</em>
messaging protocol. There are two examples that can be run from this folder:</p>
<dl class="docutils">
<dt><strong>console_main.py</strong>: basic console based, uses the console_senders.py and</dt>
<dd>console_listeners.py modules, giving basic example of the <em>arg1</em>
messaging protocol.</dd>
<dt><strong>wx.py</strong>: basic wxPython GUI application that uses the <em>arg1</em> messaging</dt>
<dd><p class="first">protocol. Note that it imports pubsub from
wxPython&#8217;s wx.lib package. Therefore you must have (a copy of)
pubsub installed there for this example to work (pubsub can be
installed in multiple places independently and they will all work
without interfering with each other).</p>
<p class="last">Note that this example is copied almost
verbatim from the wxPython wiki site and is probably not a
good model of how an application should be structured.</p>
</dd>
</dl>
</div>
<div class="section" id="basic-old-api">
<h3>Basic, old API<a class="headerlink" href="#basic-old-api" title="Permalink to this headline">¶</a></h3>
<p>These examples demonstrate the use of the legacy (version 1)
pubsub API. There are two examples that can be run from this folder:</p>
<p><strong>main.py</strong>: basic console based, all in one module (so not very realistic).</p>
<p><strong>wx_main.py</strong>: using pubsub within wxPython application, all in one module.</p>
</div>
<div class="section" id="advanced">
<h3>Advanced<a class="headerlink" href="#advanced" title="Permalink to this headline">¶</a></h3>
<p>These two examples demonstrate a more advanced use of pubsub. One of the
examples uses the <em>kwargs</em> messaging protocol, the other uses the <em>arg1</em>
messaging protocol. There are two examples that can be run from this folder:</p>
<dl class="docutils">
<dt><strong>kwargs_main.py</strong>: advanced example that shows other capabilities of</dt>
<dd>pubsub such as pubsub notification and listener exception
handling, in the &#8216;kwargs&#8217; messaging protocol. All modules that
start with &#8216;kwargs_&#8217; are used, as well as some modules that are
independent of protocol and are shared with the arg1_main
example.</dd>
<dt><strong>arg1_main.py</strong>: same as kwargs_main but using the &#8216;arg1&#8217; protocol.</dt>
<dd>All modules that start with &#8216;kwargs_&#8217; are used, as well as some
modules that are independent of protocol and are shared with the
kwargs_main example.</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="splitsidebar">
        <div class="localsidebarpanel">
            <h3>Page Contents</h3>
            <ul>
<li><a class="reference" href="#">Examples</a><ul>
<li><a class="reference" href="#hello-world">Hello World</a></li>
<li><a class="reference" href="#more-examples">More Examples</a><ul>
<li><a class="reference" href="#basic-kwargs-messaging">Basic, Kwargs messaging</a></li>
<li><a class="reference" href="#basic-arg1-messaging">Basic, Arg1 messaging</a></li>
<li><a class="reference" href="#basic-old-api">Basic, old API</a></li>
<li><a class="reference" href="#advanced">Advanced</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/apidocs/examples.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="concepts.html" title="Concepts"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="API Documentation"
             >previous</a> |</li>
        <li>Trail:</li>
          <li> &raquo; <a href="index.html" >API Documentation</a></li>
          <li> &raquo; <a href="#">Examples</a></li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, Oliver Schoenborn.
      Last updated on May 05, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.5.
    </div>
  </body>
</html>